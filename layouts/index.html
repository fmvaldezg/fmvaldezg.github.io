{{ define "main" }}
    {{- if (not .Site.Params.profileMode.enabled) }}
        {{ partial "index_profile.html" . }}
    {{- else }}
        <div class="language-switch-home" style="text-align: right; margin: 10px 20px;">
            {{ $siteLanguages := .Site.Languages }}
            {{ $pageLang := .Lang }}
            
            {{ range .Site.Languages }}
                {{ if ne $pageLang .Lang }}
                    {{ $pageURL := "" }}
                    {{ if eq .Lang "en" }}
                        {{ $pageURL = "/" }}
                    {{ else }}
                        {{ $pageURL = print "/" .Lang "/" }}
                    {{ end }}
                    
                    <a href="{{ $pageURL }}" style="font-size: 0.7rem; padding: 2px 8px; border: 1px solid #ddd; border-radius: 4px; text-decoration: none; color: #777777;">
                        {{ if eq .Lang "en" }}View in English{{ else }}Ver en Espa√±ol{{ end }}
                    </a>
                {{ end }}
            {{ end }}
        </div>
        {{ partial "index_profile.html" . }}
    {{- end }}
{{ end }}